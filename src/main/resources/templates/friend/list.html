<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<!-- ======= Head ======= -->
<div th:replace="~{common/shoulder_fragment::head(title = 'SNSサイト - フレンド')}"></div>

<body>

  <!-- ======= Header ======= -->
  <div th:replace="~{common/shoulder_fragment::header}"></div>

  <!-- ======= Sidebar ======= -->
  <div th:replace="~{common/shoulder_fragment::sidebar}"></div>

  <main id="main" class="main">

    <div class="pagetitle">
      <h1>フレンド</h1>
    </div><!-- End Page Title -->

    <section class="section dashboard">
      <div class="row">

        <div class="col-lg-12">

          <!-- News & Updates Traffic -->
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">フレンドリスト</h5>

              <!-- Table with stripped rows -->
              <table class="table table-striped">
                <thead>

                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">名前</th>
                    <th scope="col">プロフィール</th>
                    <th scope="col">承認ステータス</th>
                  </tr>

                </thead>
                <tbody>

                  <tr th:each="friend : ${friendsList}">
				    <th scope="row"><img th:src="${friend.users.iconUri}" alt="usericon" style="width: 80px;"></th>
 
		            <th>
					  <a th:href="@{/profile/{usersid} (usersid=${friend.friendUsersId})}" th:text="${friend.users.name}"></a> </a>
                    </th>

                    <th th:text="${friend.users.profile}"></th>

                    <th:block th:switch="${friend.approvalStatus}">

                      <th th:case=1>
					    <button type="button" class="btn btn-primary rounded-pill">未承認</button>
					    <a class="btn btn-danger rounded-pill" th:href="@{/friend/delete/{friendUsersId} (friendUsersId=${friend.friendUsersId})}">キャンセル</a>
                      </th>

                      <th th:case=3>
                        <button type="button" class="btn btn-primary rounded-pill">承認済み</button>

                        <a class="btn btn-danger rounded-pill" th:href="@{/friend/delete/{friendUsersId} (friendUsersId=${friend.friendUsersId})}">解除</a>
                      </th>
                    <th:block>
                  </tr>
                </tbody>

                <tbody>
                  <tr th:each="friend : ${friendsList2}">

					<th scope="row"><img th:src="${friend.users.iconUri}" alt="usericon" style="width: 80px;"></th>

		            <th>
				      <a th:href="@{/profile/{usersid} (usersid=${friend.friendUsersId})}" th:text="${friend.users.name}"></a>
                    </th>

                    <th th:text="${friend.users.profile}"></th>

                    <th:block th:switch="${friend.approvalStatus}">

                      <th th:case=2>

					    <a class="btn btn-primary rounded-pill" th:href="@{/friend/update/{friendUsersId} (friendUsersId=${friend.friendUsersId})}">承認待ち</a>

					    <a class="btn btn-danger rounded-pill" th:href="@{/friend/delete/{friendUsersId} (friendUsersId=${friend.friendUsersId})}">却下</a>

                      </th>

                      <th th:case=4>
                        <button type="button" class="btn btn-primary rounded-pill">承諾</button>

                        <a class="btn btn-danger rounded-pill" th:href="@{/friend/delete/{friendUsersId} (friendUsersId=${friend.friendUsersId})}">解除</a>
                      </th>
                    </th:block>
                  </tr>
                </tbody>
              <!-- End Table with stripped rows -->
              </table>
            </div>
          </div>
        </div><!-- End Right side columns -->

      </div>
    </section>

  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <div th:replace="~{common/shoulder_fragment::footer}"></div>

</body>

</html>